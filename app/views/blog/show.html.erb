<div class="min-h-screen bg-[#0a0a0a] text-gray-200">
  <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-12">

      <!-- TOC Sidebar -->
      <aside class="hidden lg:block lg:col-span-3 relative">
        <div class="sticky top-24 transition-all duration-300">
          <h3 class="text-sm font-bold text-gray-200 mb-4 uppercase tracking-wide">Contents</h3>
          <nav class="toc-nav">
            <ul class="space-y-1">
              <% @post[:toc].each do |item| %>
              <li>
                <a href="#<%= item[:id] %>" class="block py-1.5 text-sm text-gray-500 hover:text-gray-200 transition-colors duration-200 border-l-2 border-transparent hover:border-gray-500 pl-4
                            <%= 'ml-4' if item[:level] == 3 %>">
                  <%= item[:text] %>
                </a>
              </li>
              <% end %>
            </ul>
          </nav>
        </div>
      </aside>

      <!-- Main Content -->
      <article class="lg:col-span-8 lg:col-start-4">
        <!-- Tags -->
        <div class="flex flex-wrap gap-2 mb-6">
          <% @post[:tags].each do |tag| %>
          <span class="px-3 py-1 rounded-full text-xs font-medium bg-gray-800 text-gray-300 border border-gray-700">
            <%= tag %>
          </span>
          <% end %>
        </div>

        <!-- Title -->
        <h1 class="text-3xl md:text-5xl font-bold text-white mb-6 leading-tight tracking-tight">
          <%= @post[:title] %>
        </h1>

        <!-- Info -->
        <div class="flex items-center text-sm text-gray-500 mb-12 pb-8 border-b border-gray-800 font-mono">
          <div class="flex items-center mr-8">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
            </svg>
            <span>Hyunchul Cho</span>
          </div>
          <div class="flex items-center">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            <span><%= Date.parse(@post[:date]).strftime("%B %-d, %Y") rescue @post[:date] %></span>
          </div>
        </div>

        <!-- Content Body -->
        <div class="prose prose-invert prose-lg max-w-none prose-headings:text-white prose-a:text-blue-400 prose-code:text-[#e6e6e6] prose-pre:bg-[#1e1e1e] prose-pre:border prose-pre:border-gray-700">
          <%= raw @post[:content] %>
        </div>
      </article>

    </div>
  </div>
</div>

<style>
  /* Custom Scrollbar for TOC if needed, though usually hidden is fine */
  html {
    scroll-behavior: smooth;
  }
</style>